
function removeRemoteRepo() {
	# 1ã€cd åˆ°å½“å‰ç›®å½•
	currentDir=$(cd "$(dirname "$0")"; pwd)
	cd ${currentDir}

	echo "\033[32mâ€”â€”----- è­¦å‘Šï¼šgit remote rm origin æ“ä½œä¸å¯é€†ï¼Œè¯·å…ˆç¡®ä¿checkoutäº†æ‰€æœ‰åˆ†æ”¯ï¼\033[0m"
	git remote -v

	echo "\033[32mâ€”â€”----- è¯·é€‰æ‹©ï¼š \033[0m"
	echo "\033[32mâ€”â€”----- 1: å·²ç» checkout äº†æ‰€æœ‰åˆ†æ”¯ \033[0m"
	echo "\033[32mâ€”â€”----- 2: è¿˜æ²¡ checkout æ‰€æœ‰åˆ†æ”¯ \033[0m"

	read selectIndex

	if [ $selectIndex -eq 1 ]
	then
		git remote rm origin
	else
		echo "\033[32mâ€”â€”----- æ²¡æœ‰éœ€è¦è¿›è¡Œçš„æ“ä½œğŸ˜ \033[0m"
	fi

	sleep 2
	exit 1
}

function openRemoteUrl() {
	# 1ã€cd åˆ°å½“å‰ç›®å½•
	currentDir=$(cd "$(dirname "$0")"; pwd)
	cd ${currentDir}

	# 2ã€æ‰“å¼€è¿œç¨‹ä»“åº“çš„åœ°å€
	remoteUrl=$(git remote -v | grep "push" | awk '{print $2}')
	echo "\033[32mâ€”â€”----- è¿œç¨‹ä»“åº“çš„åœ°å€ï¼š$remoteUrl \033[0m"
	open -a Safari $remoteUrl

	sleep 2
	exit 1
}

function pushAndOpenWebsite() {
	# 1ã€cd åˆ°å½“å‰ç›®å½•
	currentDir=$(cd "$(dirname "$0")"; pwd)
	cd ${currentDir}

	# 2ã€ä½¿ç”¨è„šæœ¬è·å–è¿œç¨‹ä»“åº“çš„åœ°å€ï¼Œé¿å…æ¯æ¬¡æ‰‹åŠ¨å¡«å†™
	remote=$(git branch -a | grep "remotes")
	if [ -n "$remote" ]; then
		# 3ã€è·å–å½“å‰æ‰€åœ¨çš„åˆ†æ”¯
		branch=$(git branch | sed -n -e 's/^\* \(.*\)/\1/p')
		echo "\033[32mâ€”â€”----- current branch name: $branch \033[0m"

		# 4ã€pushä»£ç åˆ°åˆ†æ”¯ä¸Šå»
	    git push -u origin $branch
	    echo "\033[32mâ€”â€”----- push finished \033[0m"
	    echo "\033[32mâ€”â€”----- æäº¤å®ŒæˆğŸ‰ğŸ‰ğŸ‰ğŸˆğŸˆğŸˆ\033[0m"
	else
		echo "\033[32mâ€”â€”----- remote branch not exits \033[0m"
		echo "\033[32mâ€”â€”----- æäº¤å®ŒæˆğŸ‰ğŸ‰ğŸ‰ğŸˆğŸˆğŸˆ\033[0m"
	fi

	sleep 2
	exit 1
}


function commitWithInput() {
	# 1ã€cd åˆ°å½“å‰ç›®å½•
	currentDir=$(cd "$(dirname "$0")"; pwd)
	cd ${currentDir}

	# 2ã€è·å–æäº¤çš„ä¿¡æ¯
	echo "\033[32mâ€”â€”----- è¯·è¾“å…¥æäº¤ä¿¡æ¯(ä¸è¦è¾“å…¥ç©ºæ ¼)ï¼šğŸ™ƒğŸ™ƒğŸ™ƒ \033[0m"
	read commitInfo

	# 3ã€æäº¤æ“ä½œï¼Œåªèƒ½è·å–å½“å‰æ‰€åœ¨åˆ†æ”¯ï¼Œç„¶åè¿›è¡Œæäº¤ä»£ç 
	git add .
	git commit -m $commitInfo
	echo "\033[32mâ€”â€”----- commit finished \033[0m"

	# 4ã€çœ‹çœ‹æ˜¯å¦æœ‰è¿œç¨‹ä»“åº“
	pushAndOpenWebsite
}

function gitPull() {
	# 1ã€cd åˆ°å½“å‰ç›®å½•
	currentDir=$(cd "$(dirname "$0")"; pwd)
	cd ${currentDir}

	git pull
}

function commitWithDefaultInfo() {
	# 1ã€cd åˆ°å½“å‰ç›®å½•
	currentDir=$(cd "$(dirname "$0")"; pwd)
	cd ${currentDir}

	# 2ã€æäº¤æ“ä½œ
	git add .
	git commit -m "å¤‡ä»½æäº¤"
	echo "\033[32mâ€”â€”----- commit finished \033[0m"

	# 3ã€çœ‹çœ‹æ˜¯å¦æœ‰è¿œç¨‹ä»“åº“
	pushAndOpenWebsite
}

function chooseAction() {
	echo "\033[32mâ€”â€”----- è¯·é€‰æ‹©è¦è¿›è¡Œçš„æ“ä½œï¼š\033[0m"
	echo "\033[32mâ€”â€”----- 1ï¼šå¿«é€Ÿå¤‡ä»½æäº¤ \033[0m"
	echo "\033[32mâ€”â€”----- 2ï¼šå¡«å†™commitä¿¡æ¯å†æäº¤ \033[0m"
	echo "\033[32mâ€”â€”----- 3ï¼šæ‹‰å–ä»£ç  \033[0m"
	echo "\033[32mâ€”â€”----- 4ï¼šæ‰“å¼€è¿œç¨‹ä»“åº“é“¾æ¥ \033[0m"
	echo "\033[32mâ€”â€”----- 5ï¼šç§»é™¤è¿œç¨‹ä»“åº“ \033[0m"

	read selectIndex

	if [ $selectIndex -eq 1 ]
	then
		commitWithDefaultInfo
	elif [ $selectIndex -eq 2 ]
	then
		commitWithInput
	elif [ $selectIndex -eq 3 ]
	then
		gitPull
	elif [ $selectIndex -eq 4 ]
	then
		openRemoteUrl
	elif [ $selectIndex -eq 5 ]
	then
		removeRemoteRepo
	else
		echo "\033[32mâ€”â€”----- æ²¡æœ‰éœ€è¦è¿›è¡Œçš„æ“ä½œğŸ˜ \033[0m"
	fi
}

function commit() {
	chooseAction
}

commit
